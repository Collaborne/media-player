import{a3 as Z,a4 as v,a5 as J,a6 as D,a7 as K,a8 as Q,a9 as ee,j as o,L as te,m as k,u as y,H as E,W as w,aa as se,ab as q,o as ne,ac as ae,l as oe,ad as ie,A as re,ae as le,G as P,af as O,ag as A,Z as ce,ah as de,ai as ue,$ as pe,_ as I,r as me,a0 as fe,V as he,x as ye,R as xe,p as ge,F as Ce,y as Ee,z as Te,C as Ne}from"./with-player-theme-CBkyMqVj.js";import{R as S,r as x}from"./test-utils-BFSCaS9q.js";import{u as ve,b as Se,a as U}from"./useMediaPlayerStyles-Dza5xS_E.js";import{u as Pe,B as Ie}from"./BottomControls-DBDcaUPL.js";import{u as L,C as be}from"./Controls-BhNCAOdz.js";const M={disabled:!1};var Re=function(l){return l.scrollTop},T="unmounted",f="exited",h="entering",C="entered",R="exiting",u=function(i){Z(l,i);function l(a,t){var e;e=i.call(this,a,t)||this;var s=t,n=s&&!s.isMounting?a.enter:a.appear,c;return e.appearStatus=null,a.in?n?(c=f,e.appearStatus=h):c=C:a.unmountOnExit||a.mountOnEnter?c=T:c=f,e.state={status:c},e.nextCallback=null,e}l.getDerivedStateFromProps=function(t,e){var s=t.in;return s&&e.status===T?{status:f}:null};var r=l.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var s=this.state.status;this.props.in?s!==h&&s!==C&&(e=h):(s===h||s===C)&&(e=R)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t=this.props.timeout,e,s,n;return e=s=n=t,t!=null&&typeof t!="number"&&(e=t.exit,s=t.enter,n=t.appear!==void 0?t.appear:s),{exit:e,enter:s,appear:n}},r.updateStatus=function(t,e){if(t===void 0&&(t=!1),e!==null)if(this.cancelNextCallback(),e===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:v.findDOMNode(this);s&&Re(s)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:T})},r.performEnter=function(t){var e=this,s=this.props.enter,n=this.context?this.context.isMounting:t,c=this.props.nodeRef?[n]:[v.findDOMNode(this),n],d=c[0],m=c[1],N=this.getTimeouts(),p=n?N.appear:N.enter;if(!t&&!s||M.disabled){this.safeSetState({status:C},function(){e.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:h},function(){e.props.onEntering(d,m),e.onTransitionEnd(p,function(){e.safeSetState({status:C},function(){e.props.onEntered(d,m)})})})},r.performExit=function(){var t=this,e=this.props.exit,s=this.getTimeouts(),n=this.props.nodeRef?void 0:v.findDOMNode(this);if(!e||M.disabled){this.safeSetState({status:f},function(){t.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:R},function(){t.props.onExiting(n),t.onTransitionEnd(s.exit,function(){t.safeSetState({status:f},function(){t.props.onExited(n)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,s=!0;return this.nextCallback=function(n){s&&(s=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var s=this.props.nodeRef?this.props.nodeRef.current:v.findDOMNode(this),n=t==null&&!this.props.addEndListener;if(!s||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],d=c[0],m=c[1];this.props.addEndListener(d,m)}t!=null&&setTimeout(this.nextCallback,t)},r.render=function(){var t=this.state.status;if(t===T)return null;var e=this.props,s=e.children;e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef;var n=J(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return S.createElement(D.Provider,{value:null},typeof s=="function"?s(t,n):S.cloneElement(S.Children.only(s),n))},l}(S.Component);u.contextType=D;u.propTypes={};function g(){}u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g};u.UNMOUNTED=T;u.EXITED=f;u.ENTERING=h;u.ENTERED=C;u.EXITING=R;function F(i){const{onMouseEnter:l,onMouseLeave:r}=K(),a=i.isCollapsed?ee:Q;return o.jsx(te,{onMouseEnter:l,onMouseLeave:r,onClick:i.onToggleCollapse,size:"medium",children:o.jsx(a,{fontSize:"medium"})})}F.__docgenInfo={description:`@category React Component
@category UI Controls`,methods:[],displayName:"CollapseIconButton",props:{isCollapsed:{required:!1,tsType:{name:"boolean"},description:""},onToggleCollapse:{required:!0,tsType:{name:"VoidFunction"},description:""}}};const je=k()({root:{margin:"0",position:"absolute",top:"50%",left:"50%"}}),_e={entering:{opacity:.7,display:"block",transform:"translate(-50%, -50%) scale(1)"},exiting:{opacity:0,display:"block",transform:"translate(-50%, -50%) scale(1.2)"},exited:{opacity:0,transform:"translate(-50%, -50%) scale(1)",display:"none"}},Oe=i=>({transition:`all ${i}ms ease-out`,transform:"translate(-50%, -50%) scale(1)",opacity:0}),j=({durationMs:i,children:l,startAnimation:r,className:a,"data-testid":t})=>{const{classes:{root:e},cx:s}=je();return o.jsx(u,{in:r,timeout:i,"data-testid":"asdasd",children:n=>o.jsx("div",{className:s(e,a),style:{...Oe(i),..._e[n]},"data-testid":t,children:l})})};j.__docgenInfo={description:`Component used as a wrapper for transitions
@category React Component`,methods:[],displayName:"AnimatedIconWrapper",props:{durationMs:{required:!0,tsType:{name:"number"},description:""},startAnimation:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:""}},composes:["PropsWithChildren"]};const Ae=k()(i=>({centeredIcon:{width:i.spacing(8),height:i.spacing(8)}})),G=()=>{const i=y(a=>a.isPlaying),l=y(a=>a.hasPlayedOrSeeked),{centeredIcon:r}=Ae().classes;return{centeredIcon:r,isPlaying:i,hasStarted:l}},V=({animationDuration:i=q,className:l})=>{const r=E(),{centeredIcon:a,isPlaying:t,hasStarted:e}=G(),[s,n]=x.useState(!1),c=y(d=>d.getListener)();return w("pause",()=>{e&&t&&n(!0)},c),x.useEffect(()=>{s&&n(!1)},[n,s]),r?null:o.jsx(j,{durationMs:i,startAnimation:s,className:l,"data-testid":se,children:o.jsx(ne,{className:a})})};V.__docgenInfo={description:`Display animation a "pause" event was emitted
@category React Component
@category UI Controls`,methods:[],displayName:"PauseAnimation",props:{animationDuration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"300",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const W=({animationDuration:i=q,className:l})=>{const r=E(),{centeredIcon:a,isPlaying:t,hasStarted:e}=G(),[s,n]=x.useState(!1),c=y(d=>d.getListener)();return w("play",()=>{e&&(t||n==null||n(!0))},c),x.useEffect(()=>{s&&(n==null||n(!1))},[n,s]),r?null:o.jsx(j,{durationMs:i,startAnimation:s,className:l,"data-testid":ae,children:o.jsx(oe,{className:a})})};W.__docgenInfo={description:`Display animation a "play" event was emitted
@category React Component
@category UI Controls`,methods:[],displayName:"PlayAnimation",props:{animationDuration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"300",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const B=1e3,z=({className:i,"data-testid":l=de,...r})=>{const a=E(),{classes:{timeStampText:t}}=ie(),[e,s,n,c]=y(p=>[p.duration,p.setCurrentTime,p.isPip,p.currentTime],re),d=(p,_)=>{if(p.preventDefault(),Array.isArray(_))return;const Y=_/I*e;s(Y)},{classes:{progressBar:m},cx:N}=le({isAudio:a,isPip:n});return o.jsxs(P,{container:!0,direction:"row",flexWrap:"nowrap",alignItems:"center",gap:1,sx:{marginBottom:.5},children:[o.jsx(O,{className:t,variant:"body2",color:"inherit",children:A(c*B)}),o.jsx(ce,{className:N(m,i),min:0,max:I,onChange:d,value:pe(c/e*I),components:{Rail:ue},"data-testid":l,...r}),o.jsx(O,{className:t,variant:"body2",color:"inherit",children:A(e*B)})]})};z.__docgenInfo={description:"A MUI Slider configured for displaying currentTime/duration values from `MediaStore`\n@category React Component\n@category UI Controls",methods:[],displayName:"ProgressTimerDisplay",props:{className:{required:!1,tsType:{name:"string"},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'PROGRESS_BAR'",computed:!1}}},composes:["SliderProps"]};const H=({className:i})=>{const l=E(),r=y(n=>n.showControls),{classes:a,cx:t}=L(),e=t(a.controls,i),{classes:{bottomControls:s}}=Pe({isAudio:l});return!r&&!l?o.jsx("div",{className:e,children:o.jsx("div",{className:s,children:o.jsx(me,{})})}):null};H.__docgenInfo={description:"Components that adds specific Controls usage for `<MediaPlayer />`\n@category React Component\n@category UI Controls",methods:[],displayName:"AdditionalControls",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const X=x.memo(({className:i,children:l,isCollapsed:r,"data-testid":a=fe})=>{const t=E(),{classes:e,cx:s}=ve(),{showControls:n}=Se();return!r&&!n&&!t?null:o.jsx(P,{container:!0,className:s(e.wrapper,i),alignItems:"center",justifyContent:"space-between",direction:"row","data-testid":a,children:l})});X.__docgenInfo={description:`Wrapper that includes media player bottom controls buttons
@category React Component
@category UI Controls`,methods:[],displayName:"MediaPlayerControlButtons",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},isCollapsed:{required:!0,tsType:{name:"boolean"},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'BOTTOM_CONTROL_BUTTONS'",computed:!1}}}};function b({children:i,justifyContent:l}){const{classes:r}=U();return o.jsx(P,{item:!0,className:r.gridCentered,xs:!0,justifyContent:l,children:i})}const $=x.memo(({isCollapsed:i,toggleCollapse:l})=>{const r=E(),{controls:a}=L({isCollapsed:i}).classes,t=y(s=>s.isFullscreen),e=l&&!r&&!t;return o.jsxs(be,{className:a,children:[!i&&o.jsxs(o.Fragment,{children:[o.jsx(W,{}),o.jsx(V,{}),o.jsx(H,{})]}),o.jsx(Ie,{children:o.jsxs(X,{isCollapsed:i,children:[o.jsx(z,{}),o.jsxs(P,{container:!0,direction:"row",flexWrap:"nowrap",children:[o.jsxs(b,{justifyContent:"flex-start",children:[o.jsx(he,{}),o.jsx(ye,{})]}),o.jsxs(b,{justifyContent:"center",children:[o.jsx(xe,{}),o.jsx(ge,{svgIconSize:"medium"}),o.jsx(Ce,{})]}),o.jsxs(b,{justifyContent:"flex-end",children:[o.jsx(Ee,{size:"small"}),e&&o.jsx(F,{isCollapsed:i,onToggleCollapse:l}),!i&&o.jsx(Te,{})]})]})]})})]})});$.__docgenInfo={description:`Wrapper that includes media controls
@category React Component
@category UI Controls`,methods:[],displayName:"MediaPlayerControls",props:{isCollapsed:{required:!0,tsType:{name:"boolean"},description:""},toggleCollapse:{required:!1,tsType:{name:"VoidFunction"},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:""}}};const Me=x.memo(({children:i,className:l,classes:r,collapse:a,onToggleCollapse:t,...e})=>{const s=!!a,{classes:n,cx:c}=U(),d=c({[(r==null?void 0:r.collapsedClassName)??n.collapsedContainer]:s});return o.jsxs(Ne,{...e,className:c(l,d),isPipEnabled:!1,children:[o.jsx($,{isCollapsed:s,toggleCollapse:t}),i]})});Me.__docgenInfo={description:`Out of the box media player, with all functionality and UI included
@category React Component
@category Player`,methods:[],displayName:"MediaPlayer",props:{classes:{required:!1,tsType:{name:"signature",type:"object",raw:`{
	collapsedClassName?: string;
}`,signature:{properties:[{key:"collapsedClassName",value:{name:"string",required:!1}}]}},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},collapse:{required:!1,tsType:{name:"boolean"},description:""},onToggleCollapse:{required:!1,tsType:{name:"VoidFunction"},description:""}},composes:["Omit"]};export{Me as M};
